<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Getting Started Tutorial &mdash; Razy Framework</title>
  <link rel="stylesheet" href="../css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;450;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <script src="../js/docs.js" defer></script>
</head>
<body>
  <header class="site-header"><button class="menu-toggle">&#9776;</button><a href="../index.html" class="header-logo"><span class="logo-icon">R</span> Razy <span class="header-version">v1.0-beta</span></a><nav class="header-nav"><a href="getting-started.html">Docs</a><a href="api-reference.html">API</a><a href="https://github.com/rayfunghk/razy" target="_blank">GitHub</a><button class="theme-toggle">&#x1F319;</button></nav></header>

  <aside class="sidebar"><div class="sidebar-group start-here"><div class="sidebar-group-title">&#x2B50; Start Here</div><a href="quick-start.html" class="sidebar-link">Quick Start (5 min)</a><a href="getting-started.html" class="sidebar-link">Installation</a><a href="standalone.html" class="sidebar-link">Standalone Mode</a><a href="tutorial.html" class="sidebar-link">Tutorial</a><a href="roadmap.html" class="sidebar-link">Learning Roadmap</a><a href="modules.html" class="sidebar-link">Module System</a><a href="routing.html" class="sidebar-link">Routing</a></div><hr class="sidebar-divider"><div class="sidebar-group"><div class="sidebar-group-title">Overview</div><a href="../index.html" class="sidebar-link">Introduction</a><a href="architecture.html" class="sidebar-link">Architecture</a><a href="cli.html" class="sidebar-link">CLI Commands</a></div><div class="sidebar-group"><div class="sidebar-group-title">Module Development</div><a href="module-structure.html" class="sidebar-link">Module Structure</a><a href="controller.html" class="sidebar-link">Controller</a><a href="agent.html" class="sidebar-link">Agent</a><a href="events.html" class="sidebar-link">Event System</a><a href="cross-module-api.html" class="sidebar-link">Cross-Module API</a><a href="plugins.html" class="sidebar-link">Plugin System</a></div><div class="sidebar-group"><div class="sidebar-group-title">Routing &amp; Flow</div><a href="middleware.html" class="sidebar-link">Middleware</a><a href="pipeline.html" class="sidebar-link">Pipeline</a><a href="validation.html" class="sidebar-link">Validation</a><a href="container.html" class="sidebar-link">DI Container</a><a href="env.html" class="sidebar-link">Environment (.env)</a></div><hr class="sidebar-divider"><div class="sidebar-group"><div class="sidebar-group-title">Data &amp; Storage</div><a href="database.html" class="sidebar-link">Database</a><a href="orm.html" class="sidebar-link">ORM</a><a href="collection.html" class="sidebar-link">Collection</a><a href="configuration.html" class="sidebar-link">Configuration</a><a href="cache.html" class="sidebar-link">Cache</a><a href="hashmap.html" class="sidebar-link">HashMap</a><a href="yaml.html" class="sidebar-link">YAML</a><a href="queue.html" class="sidebar-link">Queue</a></div><div class="sidebar-group"><div class="sidebar-group-title">Rendering</div><a href="template.html" class="sidebar-link">Template Engine</a><a href="dom.html" class="sidebar-link">DOM Builder</a><a href="simple-syntax.html" class="sidebar-link">Simple Syntax</a></div><div class="sidebar-group"><div class="sidebar-group-title">IO &amp; Communication</div><a href="httpclient.html" class="sidebar-link">HTTP Client</a><a href="xhr.html" class="sidebar-link">XHR</a><a href="sse.html" class="sidebar-link">SSE</a><a href="websocket.html" class="sidebar-link">WebSocket</a><a href="mailer.html" class="sidebar-link">Mailer</a><a href="simplified-message.html" class="sidebar-link">SimplifiedMessage</a><a href="filereader.html" class="sidebar-link">FileReader</a><a href="ftp-sftp.html" class="sidebar-link">FTP &amp; SFTP</a><a href="notification.html" class="sidebar-link">Notification</a></div><hr class="sidebar-divider"><div class="sidebar-group"><div class="sidebar-group-title">Security</div><a href="crypt.html" class="sidebar-link">Crypt</a><a href="csrf.html" class="sidebar-link">CSRF Protection</a><a href="session.html" class="sidebar-link">Session</a><a href="oauth2.html" class="sidebar-link">OAuth2</a><a href="office365sso.html" class="sidebar-link">Office 365 SSO</a><a href="authenticator.html" class="sidebar-link">Authenticator (TOTP/HOTP)</a><a href="authmanager.html" class="sidebar-link">Auth Manager &amp; Gate</a><a href="ratelimiter.html" class="sidebar-link">Rate Limiter</a></div><div class="sidebar-group"><div class="sidebar-group-title">Observability</div><a href="logging.html" class="sidebar-link">Logging</a><a href="profiler.html" class="sidebar-link">Profiler</a><a href="error-handling.html" class="sidebar-link">Error Handling</a></div><div class="sidebar-group"><div class="sidebar-group-title">Advanced</div><a href="thread.html" class="sidebar-link">Thread &amp; ThreadManager</a><a href="worker-lifecycle.html" class="sidebar-link">Worker Lifecycle</a></div><hr class="sidebar-divider"><div class="sidebar-group"><div class="sidebar-group-title">Deployment</div><a href="sites-configuration.html" class="sidebar-link">Sites Configuration</a><a href="packaging.html" class="sidebar-link">Packaging &amp; Distribution</a><a href="publishing.html" class="sidebar-link">Repository &amp; Publishing</a><a href="caddy-worker.html" class="sidebar-link">Caddy Worker Mode</a></div><div class="sidebar-group"><div class="sidebar-group-title">Reference</div><a href="api-reference.html" class="sidebar-link">API Reference</a><a href="moduleinfo.html" class="sidebar-link">ModuleInfo</a><a href="utilities.html" class="sidebar-link">Utility Functions</a><a href="testing.html" class="sidebar-link">Testing</a></div></aside>
  <div class="sidebar-overlay"></div>

  <main class="main-content">
    <h1>Getting Started Tutorial</h1>
    <p>Build a working Razy application from scratch in under 10 minutes. By the end, you'll have a multi-page site with routing, templates, and a JSON API &mdash; all running locally.</p>

    <div class="callout callout-info">
      <strong>Prerequisites:</strong> PHP 8.2+ with <code>ext-zip</code>, <code>ext-curl</code>, <code>ext-json</code>, and Composer installed globally.
    </div>

    <!-- Step 1 -->
    <h2 id="step-1">Step 1: Install Razy</h2>
    <pre><code><span class="hl-cmt"># Create a project directory</span>
mkdir my-razy-app
cd my-razy-app

<span class="hl-cmt"># Install via Composer</span>
composer require rayfunghk/razy</code></pre>

    <!-- Step 2 -->
    <h2 id="step-2">Step 2: Build the Environment</h2>
    <pre><code><span class="hl-cmt"># Build the Razy working environment</span>
php Razy.phar build</code></pre>
    <p>This creates the project structure:</p>
    <pre><code>my-razy-app/
&#x251C;&#x2500;&#x2500; Razy.phar              <span class="hl-cmt"># Framework binary</span>
&#x251C;&#x2500;&#x2500; config.inc.php         <span class="hl-cmt"># Global configuration</span>
&#x251C;&#x2500;&#x2500; sites.inc.php          <span class="hl-cmt"># Domain &rarr; distributor mapping</span>
&#x251C;&#x2500;&#x2500; index.php              <span class="hl-cmt"># Web entry point</span>
&#x251C;&#x2500;&#x2500; shared/
&#x2502;   &#x2514;&#x2500;&#x2500; module/            <span class="hl-cmt"># Shared modules (all distributors)</span>
&#x251C;&#x2500;&#x2500; sites/                 <span class="hl-cmt"># Per-distributor sites</span>
&#x2514;&#x2500;&#x2500; data/                  <span class="hl-cmt"># Global data storage</span></code></pre>

    <!-- Step 3 -->
    <h2 id="step-3">Step 3: Create a Distributor</h2>
    <p>A <strong>distributor</strong> is a self-contained site/app within Razy. Each distributor has its own modules, routes, and configuration.</p>
    <pre><code><span class="hl-cmt"># Create a distributor called "mysite"</span>
php Razy.phar init dist mysite</code></pre>

    <!-- Step 4 -->
    <h2 id="step-4">Step 4: Create Your First Module</h2>
    <p>Modules are the building blocks of a Razy application. Create the following directory structure inside <code>sites/mysite/</code>:</p>
    <pre><code>sites/mysite/
&#x2514;&#x2500;&#x2500; app/
    &#x2514;&#x2500;&#x2500; hello/
        &#x251C;&#x2500;&#x2500; module.php
        &#x2514;&#x2500;&#x2500; default/
            &#x251C;&#x2500;&#x2500; package.php
            &#x251C;&#x2500;&#x2500; controller/
            &#x2502;   &#x251C;&#x2500;&#x2500; hello.php
            &#x2502;   &#x251C;&#x2500;&#x2500; hello.home.php
            &#x2502;   &#x251C;&#x2500;&#x2500; hello.about.php
            &#x2502;   &#x2514;&#x2500;&#x2500; hello.greet.php
            &#x2514;&#x2500;&#x2500; view/
                &#x251C;&#x2500;&#x2500; home.tpl
                &#x2514;&#x2500;&#x2500; about.tpl</code></pre>

    <h3 id="module-php">module.php &mdash; Module Identity</h3>
    <p>Declares who the module is. The <code>module_code</code> must match the directory path (<code>app/hello</code>).</p>
    <pre><code><span class="hl-kw">&lt;?php</span>
<span class="hl-kw">return</span> [
    <span class="hl-str">'module_code'</span> =&gt; <span class="hl-str">'app/hello'</span>,
    <span class="hl-str">'name'</span>        =&gt; <span class="hl-str">'Hello Module'</span>,
    <span class="hl-str">'author'</span>      =&gt; <span class="hl-str">'Your Name'</span>,
    <span class="hl-str">'description'</span> =&gt; <span class="hl-str">'My first Razy module'</span>,
    <span class="hl-str">'version'</span>     =&gt; <span class="hl-str">'1.0.0'</span>,
];</code></pre>

    <h3 id="package-php">package.php &mdash; Package Configuration</h3>
    <p>Defines what the module does at runtime. Sits inside the version folder (<code>default/</code>).</p>
    <pre><code><span class="hl-kw">&lt;?php</span>
<span class="hl-kw">return</span> [
    <span class="hl-str">'module_code'</span> =&gt; <span class="hl-str">'app/hello'</span>,
    <span class="hl-str">'author'</span>      =&gt; <span class="hl-str">'Your Name'</span>,
    <span class="hl-str">'description'</span> =&gt; <span class="hl-str">'My first Razy module'</span>,
    <span class="hl-str">'version'</span>     =&gt; <span class="hl-str">'1.0.0'</span>,
];</code></pre>

    <h3 id="controller">hello.php &mdash; Main Controller</h3>
    <p>The main controller is an anonymous class extending <code>Controller</code>. The <code>__onInit</code> method is where you register routes, APIs, and event listeners.</p>
    <pre><code><span class="hl-kw">&lt;?php</span>
<span class="hl-kw">namespace</span> <span class="hl-cls">Razy\Module\hello</span>;

<span class="hl-kw">use</span> <span class="hl-cls">Razy\Agent</span>;
<span class="hl-kw">use</span> <span class="hl-cls">Razy\Controller</span>;

<span class="hl-kw">return new class extends</span> <span class="hl-cls">Controller</span> {
    <span class="hl-cmt">/**
     * Called when the module initializes.
     * Register all routes here.
     */</span>
    <span class="hl-kw">public function</span> <span class="hl-fn">__onInit</span>(<span class="hl-cls">Agent</span> <span class="hl-var">$agent</span>): <span class="hl-cls">bool</span>
    {
        <span class="hl-cmt">// Lazy routes: map URL paths to handler files</span>
        <span class="hl-cmt">// '/' &rarr; hello.home.php, 'about' &rarr; hello.about.php</span>
        <span class="hl-var">$agent</span>-&gt;<span class="hl-fn">addLazyRoute</span>([
            <span class="hl-str">'/'</span>     =&gt; <span class="hl-str">'home'</span>,
            <span class="hl-str">'about'</span> =&gt; <span class="hl-str">'about'</span>,
        ]);

        <span class="hl-cmt">// Regex route: capture a name from the URL</span>
        <span class="hl-cmt">// /hello/greet/Alice &rarr; hello.greet.php with $name = 'Alice'</span>
        <span class="hl-var">$agent</span>-&gt;<span class="hl-fn">addRoute</span>(<span class="hl-str">'/hello/greet/(:a)'</span>, <span class="hl-str">'greet'</span>);

        <span class="hl-kw">return true</span>;
    }
};</code></pre>

    <div class="callout callout-info">
      <strong>What's happening here:</strong>
      <ul>
        <li><code>addLazyRoute()</code> maps simple path segments to handler files. Paths are relative to the module's alias (<code>hello</code>), so <code>'/'</code> becomes <code>/hello/</code> and <code>'about'</code> becomes <code>/hello/about</code>.</li>
        <li><code>addRoute()</code> uses a regex pattern with the full path from the site root. <code>(:a)</code> captures any non-slash characters and passes them as a function argument.</li>
      </ul>
    </div>

    <h3 id="home-handler">hello.home.php &mdash; Home Page Handler</h3>
    <p>Route handler files return a <code>Closure</code>. Inside the closure, <code>$this</code> refers to the controller.</p>
    <pre><code><span class="hl-kw">&lt;?php</span>
<span class="hl-kw">use</span> <span class="hl-cls">Razy\Controller</span>;

<span class="hl-kw">return function</span> (): <span class="hl-cls">void</span> {
    <span class="hl-cmt">/** @var Controller $this */</span>
    <span class="hl-fn">header</span>(<span class="hl-str">'Content-Type: text/html; charset=UTF-8'</span>);

    <span class="hl-cmt">// Load the 'home' template from view/home.tpl</span>
    <span class="hl-var">$source</span> = <span class="hl-var">$this</span>-&gt;<span class="hl-fn">loadTemplate</span>(<span class="hl-str">'home'</span>);

    <span class="hl-cmt">// Assign variables to the template</span>
    <span class="hl-var">$source</span>-&gt;<span class="hl-fn">assign</span>([
        <span class="hl-str">'title'</span>   =&gt; <span class="hl-str">'Welcome to Razy'</span>,
        <span class="hl-str">'message'</span> =&gt; <span class="hl-str">'Your first module is working!'</span>,
    ]);

    <span class="hl-kw">echo</span> <span class="hl-var">$source</span>-&gt;<span class="hl-fn">output</span>();
};</code></pre>

    <h3 id="about-handler">hello.about.php &mdash; About Page Handler</h3>
    <pre><code><span class="hl-kw">&lt;?php</span>
<span class="hl-kw">use</span> <span class="hl-cls">Razy\Controller</span>;

<span class="hl-kw">return function</span> (): <span class="hl-cls">void</span> {
    <span class="hl-cmt">/** @var Controller $this */</span>
    <span class="hl-fn">header</span>(<span class="hl-str">'Content-Type: text/html; charset=UTF-8'</span>);

    <span class="hl-var">$source</span> = <span class="hl-var">$this</span>-&gt;<span class="hl-fn">loadTemplate</span>(<span class="hl-str">'about'</span>);
    <span class="hl-var">$source</span>-&gt;<span class="hl-fn">assign</span>([
        <span class="hl-str">'title'</span> =&gt; <span class="hl-str">'About'</span>,
    ]);

    <span class="hl-kw">echo</span> <span class="hl-var">$source</span>-&gt;<span class="hl-fn">output</span>();
};</code></pre>

    <h3 id="greet-handler">hello.greet.php &mdash; JSON API with URL Parameter</h3>
    <p>The <code>(:a)</code> token from <code>addRoute()</code> is passed as the <code>$name</code> argument.</p>
    <pre><code><span class="hl-kw">&lt;?php</span>
<span class="hl-kw">return function</span> (<span class="hl-cls">string</span> <span class="hl-var">$name</span>): <span class="hl-cls">void</span> {
    <span class="hl-fn">header</span>(<span class="hl-str">'Content-Type: application/json'</span>);
    <span class="hl-kw">echo</span> <span class="hl-fn">json_encode</span>([
        <span class="hl-str">'greeting'</span> =&gt; <span class="hl-str">"Hello, {$name}!"</span>,
        <span class="hl-str">'time'</span>     =&gt; <span class="hl-fn">date</span>(<span class="hl-str">'Y-m-d H:i:s'</span>),
    ], <span class="hl-var">JSON_PRETTY_PRINT</span>);
};</code></pre>

    <h3 id="home-tpl">home.tpl &mdash; Home Page Template</h3>
    <p>Razy templates use <code>{$variable}</code> syntax for variable substitution.</p>
    <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;{$title}&lt;/title&gt;
    &lt;style&gt;
        body { font-family: system-ui, sans-serif; max-width: 640px;
               margin: 40px auto; padding: 0 20px; color: #1e293b; }
        h1 { color: #2563eb; }
        a { color: #2563eb; text-decoration: none; }
        a:hover { text-decoration: underline; }
        .nav { display: flex; gap: 16px; margin-bottom: 32px;
               padding: 12px 0; border-bottom: 1px solid #e2e8f0; }
        .card { background: #f8fafc; border-radius: 8px;
                padding: 20px; margin: 16px 0; }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;nav class="nav"&gt;
        &lt;a href="{$site_url}hello/"&gt;Home&lt;/a&gt;
        &lt;a href="{$site_url}hello/about"&gt;About&lt;/a&gt;
        &lt;a href="{$site_url}hello/greet/World"&gt;Greet API&lt;/a&gt;
    &lt;/nav&gt;

    &lt;h1&gt;{$title}&lt;/h1&gt;
    &lt;div class="card"&gt;
        &lt;p&gt;{$message}&lt;/p&gt;
    &lt;/div&gt;

    &lt;h2&gt;Try It&lt;/h2&gt;
    &lt;ul&gt;
        &lt;li&gt;&lt;a href="{$site_url}hello/greet/Alice"&gt;/hello/greet/Alice&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href="{$site_url}hello/greet/Razy"&gt;/hello/greet/Razy&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <h3 id="about-tpl">about.tpl &mdash; About Page Template</h3>
    <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;{$title}&lt;/title&gt;
    &lt;style&gt;
        body { font-family: system-ui, sans-serif; max-width: 640px;
               margin: 40px auto; padding: 0 20px; color: #1e293b; }
        h1 { color: #2563eb; }
        a { color: #2563eb; text-decoration: none; }
        .nav { display: flex; gap: 16px; margin-bottom: 32px;
               padding: 12px 0; border-bottom: 1px solid #e2e8f0; }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;nav class="nav"&gt;
        &lt;a href="{$site_url}hello/"&gt;Home&lt;/a&gt;
        &lt;a href="{$site_url}hello/about"&gt;About&lt;/a&gt;
    &lt;/nav&gt;

    &lt;h1&gt;{$title}&lt;/h1&gt;
    &lt;p&gt;This is a simple Razy module demonstrating routing and templates.&lt;/p&gt;
    &lt;p&gt;Built with the &lt;strong&gt;Razy Framework&lt;/strong&gt;.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <!-- Step 5 -->
    <h2 id="step-5">Step 5: Configure the Distributor</h2>
    <p>Edit <code>sites/mysite/dist.php</code> to load your module:</p>
    <pre><code><span class="hl-kw">&lt;?php</span>
<span class="hl-kw">return</span> [
    <span class="hl-str">'dist'</span>            =&gt; <span class="hl-str">'mysite'</span>,
    <span class="hl-str">'global_module'</span>   =&gt; <span class="hl-kw">false</span>,
    <span class="hl-str">'autoload_shared'</span> =&gt; <span class="hl-kw">false</span>,
    <span class="hl-str">'greedy'</span>          =&gt; <span class="hl-kw">false</span>,
    <span class="hl-str">'modules'</span> =&gt; [
        <span class="hl-str">'*'</span> =&gt; [
            <span class="hl-str">'app/hello'</span> =&gt; <span class="hl-str">'default'</span>,  <span class="hl-cmt">// Load 'default' version of app/hello</span>
        ],
    ],
];</code></pre>
    <table>
      <thead><tr><th>Key</th><th>Value</th><th>Meaning</th></tr></thead>
      <tbody>
        <tr><td><code>dist</code></td><td><code>'mysite'</code></td><td>Distributor identifier</td></tr>
        <tr><td><code>global_module</code></td><td><code>false</code></td><td>Don't auto-load shared modules</td></tr>
        <tr><td><code>autoload_shared</code></td><td><code>false</code></td><td>Don't auto-load from <code>shared/module/</code></td></tr>
        <tr><td><code>greedy</code></td><td><code>false</code></td><td>Return 404 for unmatched routes</td></tr>
        <tr><td><code>'app/hello' =&gt; 'default'</code></td></td><td>Load <code>app/hello</code> from the <code>default/</code> version folder</td></tr>
      </tbody>
    </table>

    <!-- Step 6 -->
    <h2 id="step-6">Step 6: Configure Domain Mapping</h2>
    <p>Edit <code>sites.inc.php</code> in the project root to map <code>localhost</code> to your distributor:</p>
    <pre><code><span class="hl-kw">&lt;?php</span>
<span class="hl-kw">return</span> [
    <span class="hl-str">'domains'</span> =&gt; [
        <span class="hl-str">'localhost'</span> =&gt; [
            <span class="hl-str">'/mysite'</span> =&gt; <span class="hl-str">'mysite'</span>,
        ],
    ],
    <span class="hl-str">'alias'</span> =&gt; [],
];</code></pre>
    <p>This means: when someone visits <code>http://localhost/mysite/...</code>, Razy routes it to the <code>mysite</code> distributor.</p>

    <!-- Step 7 -->
    <h2 id="step-7">Step 7: Run It</h2>

    <h3>Option A: Interactive Shell (Recommended for Learning)</h3>
    <p>The <code>runapp</code> command lets you test routes without a web server:</p>
    <pre><code><span class="hl-cmt"># Start the interactive shell</span>
php Razy.phar runapp mysite

<span class="hl-cmt"># Inside the shell, type a path to test:</span>
&gt; hello/
<span class="hl-cmt"># &rarr; Outputs the home page HTML</span>

&gt; hello/about
<span class="hl-cmt"># &rarr; Outputs the about page HTML</span>

&gt; hello/greet/Alice
<span class="hl-cmt"># &rarr; {"greeting": "Hello, Alice!", "time": "2026-02-25 12:00:00"}</span>

<span class="hl-cmt"># Type 'exit' to quit</span>
&gt; exit</code></pre>

    <h3>Option B: PHP Built-in Server</h3>
    <pre><code><span class="hl-cmt"># Generate rewrite rules</span>
php Razy.phar rewrite mysite

<span class="hl-cmt"># Start the PHP development server</span>
php -S localhost:8080 router.php</code></pre>
    <p>Then open your browser:</p>
    <ul>
      <li><code>http://localhost:8080/mysite/hello/</code> &rarr; Home page</li>
      <li><code>http://localhost:8080/mysite/hello/about</code> &rarr; About page</li>
      <li><code>http://localhost:8080/mysite/hello/greet/World</code> &rarr; JSON API</li>
    </ul>

    <!-- What You've Built -->
    <h2 id="what-youve-built">What You've Built</h2>
    <pre><code>Request: GET /mysite/hello/greet/Alice
         |
         v
+------------------+
|  Application     |  sites.inc.php: /mysite &rarr; mysite distributor
+--------+---------+
         |
+------------------+
|  Distributor     |  dist.php: loads app/hello module
|   (mysite)       |
+--------+---------+
         |
+------------------+
|  app/hello       |  module.php: identity
|  Controller      |  hello.php: __onInit registers routes
+--------+---------+
         |
+------------------+
|  Route Match     |  addRoute('/hello/greet/(:a)', 'greet')
|  (:a) = "Alice"  |
+--------+---------+
         |
+------------------+
| hello.greet.php  |  function(string $name) &rarr; JSON
+------------------+</code></pre>

    <!-- Common Mistakes -->
    <h2 id="common-mistakes">Common Mistakes</h2>
    <table>
      <thead><tr><th>Problem</th><th>Cause</th><th>Fix</th></tr></thead>
      <tbody>
        <tr><td>Module not found</td><td><code>module_code</code> doesn't match directory path</td><td>Ensure <code>app/hello</code> matches <code>sites/mysite/app/hello/</code></td></tr>
        <tr><td>Route returns 404</td><td>Missing leading <code>/</code> in <code>addRoute()</code></td><td>Use <code>/hello/greet/(:a)</code> not <code>hello/greet/(:a)</code></td></tr>
        <tr><td>Empty page</td><td>Handler doesn't echo output</td><td>Use <code>echo $source-&gt;output()</code></td></tr>
        <tr><td>Template variables blank</td><td>Forgot to call <code>assign()</code></td><td>Call <code>$source-&gt;assign([...])</code> before <code>output()</code></td></tr>
        <tr><td>Wrong handler file loaded</td><td>File naming mismatch</td><td>Must be <code>{controller}.{handler}.php</code> (e.g., <code>hello.home.php</code>)</td></tr>
      </tbody>
    </table>

    <!-- Next Steps -->
    <h2 id="next-steps">Next Steps</h2>
    <div class="callout callout-info">
      <strong>&#x1F4CD; See the <a href="roadmap.html">Learning Roadmap</a></strong> for a structured path: <em>30-minute intro &rarr; 1-day hands-on &rarr; 1-week mastery.</em>
    </div>
    <table>
      <thead><tr><th>Topic</th><th>What You'll Learn</th></tr></thead>
      <tbody>
        <tr><td><a href="modules.html">Module System</a></td><td>Module lifecycle hooks, dependencies, versioning</td></tr>
        <tr><td><a href="routing.html">Routing</a></td><td>Regex routes, HTTP method filtering, shadow routes</td></tr>
        <tr><td><a href="template.html">Template Engine</a></td><td>Blocks, modifiers, function tags, iteration</td></tr>
        <tr><td><a href="database.html">Database</a></td><td>Query builder, Simple Syntax, migrations</td></tr>
        <tr><td><a href="cross-module-api.html">Cross-Module API</a></td><td>Module-to-module communication</td></tr>
        <tr><td><a href="events.html">Event System</a></td><td>Inter-module events and listeners</td></tr>
        <tr><td><a href="cli.html">CLI Commands</a></td><td>All available CLI commands</td></tr>
        <tr><td><a href="collection.html">Collection</a></td><td>Data manipulation with selectors and processors</td></tr>
      </tbody>
    </table>

    <div class="page-nav">
      <a href="../index.html">&larr; Home</a>
      <a href="getting-started.html">Next &rarr; Installation</a>
    </div>
  </main>
</body>
</html>
