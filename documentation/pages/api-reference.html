<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API Reference &mdash; Razy Framework</title>
  <link rel="stylesheet" href="../css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;450;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <script src="../js/docs.js" defer></script>
  <style>
    .api-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem;margin:1rem 0 2.5rem;}
    .api-card{background:var(--code-bg);border:1px solid var(--border);border-radius:8px;padding:1rem 1.2rem;transition:border-color .2s,box-shadow .2s;}
    .api-card:hover{border-color:var(--accent);box-shadow:0 2px 12px rgba(0,0,0,.08);}
    .api-card-name{font-family:'JetBrains Mono',monospace;font-size:.95em;font-weight:600;color:var(--accent);margin-bottom:.35rem;}
    .api-card-name a{color:inherit;text-decoration:none;}
    .api-card-name a:hover{text-decoration:underline;}
    .api-card-desc{font-size:.88em;color:var(--text-muted);line-height:1.5;margin:0;}
    .api-section-title{border-bottom:2px solid var(--accent);padding-bottom:.4rem;margin-top:2.5rem;}
    .api-section-desc{color:var(--text-muted);font-size:.94em;margin-bottom:.8rem;}
    .internal-badge{display:inline-block;background:#e74c3c22;color:#e74c3c;font-size:.7em;padding:2px 8px;border-radius:4px;vertical-align:middle;margin-left:.4rem;font-weight:600;}
  </style>
</head>
<body>
  <header class="site-header"><button class="menu-toggle">&#9776;</button><a href="../index.html" class="header-logo"><span class="logo-icon">R</span> Razy <span class="header-version">v1.0-beta</span></a><nav class="header-nav"><a href="getting-started.html">Docs</a><a href="api-reference.html">API</a><a href="https://github.com/rayfunghk/razy" target="_blank">GitHub</a><button class="theme-toggle">&#x1F319;</button></nav></header>
  <aside class="sidebar"><div class="sidebar-group start-here"><div class="sidebar-group-title">ï¿?Start Here</div><a href="quick-start.html" class="sidebar-link">Quick Start (5 min)</a><a href="getting-started.html" class="sidebar-link">Installation</a><a href="standalone.html" class="sidebar-link">Standalone Mode</a><a href="tutorial.html" class="sidebar-link">Tutorial</a><a href="roadmap.html" class="sidebar-link">Learning Roadmap</a><a href="modules.html" class="sidebar-link">Module System</a><a href="routing.html" class="sidebar-link">Routing</a></div><hr class="sidebar-divider"><div class="sidebar-group"><div class="sidebar-group-title">Overview</div><a href="../index.html" class="sidebar-link">Introduction</a><a href="architecture.html" class="sidebar-link">Architecture</a><a href="cli.html" class="sidebar-link">CLI Commands</a></div><div class="sidebar-group"><div class="sidebar-group-title">Module Development</div><a href="module-structure.html" class="sidebar-link">Module Structure</a><a href="controller.html" class="sidebar-link">Controller</a><a href="agent.html" class="sidebar-link">Agent</a><a href="events.html" class="sidebar-link">Event System</a><a href="cross-module-api.html" class="sidebar-link">Cross-Module API</a><a href="plugins.html" class="sidebar-link">Plugin System</a></div><div class="sidebar-group"><div class="sidebar-group-title">Routing &amp; Flow</div><a href="middleware.html" class="sidebar-link">Middleware</a><a href="pipeline.html" class="sidebar-link">Pipeline</a><a href="validation.html" class="sidebar-link">Validation</a><a href="container.html" class="sidebar-link">DI Container</a><a href="env.html" class="sidebar-link">Environment (.env)</a></div><hr class="sidebar-divider"><div class="sidebar-group"><div class="sidebar-group-title">Data &amp; Storage</div><a href="database.html" class="sidebar-link">Database</a><a href="orm.html" class="sidebar-link">ORM</a><a href="collection.html" class="sidebar-link">Collection</a><a href="configuration.html" class="sidebar-link">Configuration</a><a href="cache.html" class="sidebar-link">Cache</a><a href="hashmap.html" class="sidebar-link">HashMap</a><a href="yaml.html" class="sidebar-link">YAML</a><a href="queue.html" class="sidebar-link">Queue</a></div><div class="sidebar-group"><div class="sidebar-group-title">Rendering</div><a href="template.html" class="sidebar-link">Template Engine</a><a href="dom.html" class="sidebar-link">DOM Builder</a><a href="simple-syntax.html" class="sidebar-link">Simple Syntax</a></div><div class="sidebar-group"><div class="sidebar-group-title">IO &amp; Communication</div><a href="httpclient.html" class="sidebar-link">HTTP Client</a><a href="xhr.html" class="sidebar-link">XHR</a><a href="sse.html" class="sidebar-link">SSE</a><a href="websocket.html" class="sidebar-link">WebSocket</a><a href="mailer.html" class="sidebar-link">Mailer</a><a href="simplified-message.html" class="sidebar-link">SimplifiedMessage</a><a href="filereader.html" class="sidebar-link">FileReader</a><a href="ftp-sftp.html" class="sidebar-link">FTP &amp; SFTP</a><a href="notification.html" class="sidebar-link">Notification</a></div><hr class="sidebar-divider"><div class="sidebar-group"><div class="sidebar-group-title">Security</div><a href="crypt.html" class="sidebar-link">Crypt</a><a href="csrf.html" class="sidebar-link">CSRF Protection</a><a href="session.html" class="sidebar-link">Session</a><a href="oauth2.html" class="sidebar-link">OAuth2</a><a href="office365sso.html" class="sidebar-link">Office 365 SSO</a><a href="authenticator.html" class="sidebar-link">Authenticator (TOTP/HOTP)</a><a href="authmanager.html" class="sidebar-link">Auth Manager &amp; Gate</a><a href="ratelimiter.html" class="sidebar-link">Rate Limiter</a></div><div class="sidebar-group"><div class="sidebar-group-title">Observability</div><a href="logging.html" class="sidebar-link">Logging</a><a href="profiler.html" class="sidebar-link">Profiler</a><a href="error-handling.html" class="sidebar-link">Error Handling</a></div><div class="sidebar-group"><div class="sidebar-group-title">Advanced</div><a href="thread.html" class="sidebar-link">Thread &amp; ThreadManager</a><a href="worker-lifecycle.html" class="sidebar-link">Worker Lifecycle</a></div><hr class="sidebar-divider"><div class="sidebar-group"><div class="sidebar-group-title">Deployment</div><a href="sites-configuration.html" class="sidebar-link">Sites Configuration</a><a href="packaging.html" class="sidebar-link">Packaging &amp; Distribution</a><a href="publishing.html" class="sidebar-link">Repository &amp; Publishing</a><a href="caddy-worker.html" class="sidebar-link">Caddy Worker Mode</a></div><div class="sidebar-group"><div class="sidebar-group-title">Reference</div><a href="api-reference.html" class="sidebar-link">API Reference</a><a href="moduleinfo.html" class="sidebar-link">ModuleInfo</a><a href="utilities.html" class="sidebar-link">Utility Functions</a><a href="testing.html" class="sidebar-link">Testing</a></div></aside>
  <div class="sidebar-overlay"></div>

  <main class="main-content">
    <h1>API Reference</h1>
    <p>Complete class reference for the Razy Framework. Click any class to view detailed documentation with method signatures, usage examples, and scenarios.</p>

    <!--  -->
    <h2 id="core-internal" class="api-section-title">Core (Internal) <span class="internal-badge">Internal</span></h2>
    <p class="api-section-desc">These classes are internal framework components. They are not typically used directly by module developers.</p>
    <div class="api-grid">
      <div class="api-card">
        <div class="api-card-name">Application</div>
        <p class="api-card-desc">Framework boot and request lifecycle manager</p>
      </div>
      <div class="api-card">
        <div class="api-card-name">Distributor</div>
        <p class="api-card-desc">Site distributor loader and module coordinator</p>
      </div>
      <div class="api-card">
        <div class="api-card-name">Module</div>
        <p class="api-card-desc">Module lifecycle and dependency resolver</p>
      </div>
      <div class="api-card">
        <div class="api-card-name">Domain</div>
        <p class="api-card-desc">Domain matching and routing bridge (7 methods: construct, getAlias, getDomainName, matchQuery, autoload, getDistributor, dispose)</p>
      </div>
      <div class="api-card">
        <div class="api-card-name">Error</div>
        <p class="api-card-desc">Error handling and display (Show404, ShowError)</p>
      </div>
      <div class="api-card">
        <div class="api-card-name">PackageManager</div>
        <p class="api-card-desc">Package dependency resolution</p>
      </div>
    </div>

    <!--  -->
    <h2 id="module-development" class="api-section-title">Module Development</h2>
    <div class="api-grid">
      <div class="api-card">
        <div class="api-card-name"><a href="controller.html">Controller</a></div>
        <p class="api-card-desc">Module controller with 13 lifecycle hooks and utility methods</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="agent.html">Agent</a></div>
        <p class="api-card-desc">Route/event/API registration in <code>__onInit</code></p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="moduleinfo.html">ModuleInfo</a></div>
        <p class="api-card-desc">Read-only module metadata (16 methods)</p>
      </div>
    </div>

    <!--  -->
    <h2 id="data-storage" class="api-section-title">Data &amp; Storage</h2>
    <div class="api-grid">
      <div class="api-card">
        <div class="api-card-name"><a href="database.html">Database</a></div>
        <p class="api-card-desc">Multi-driver database with Statement builder, WhereSyntax, TableJoinSyntax</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="orm.html">ORM</a></div>
        <p class="api-card-desc">Active-Record style ORM with entity mapping and relationships</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="collection.html">Collection</a></div>
        <p class="api-card-desc">Enhanced ArrayObject with dot-path access</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="configuration.html">Configuration</a></div>
        <p class="api-card-desc">Auto-loading config files (.php/.json/.ini/.yaml)</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="cache.html">Cache</a></div>
        <p class="api-card-desc">PSR-like caching with file, memory, and custom adapters</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="hashmap.html">HashMap</a></div>
        <p class="api-card-desc">Hash-indexed object registry (ArrayAccess/Iterator/Countable)</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="yaml.html">YAML</a></div>
        <p class="api-card-desc">YAML parser and dumper (4 static methods)</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="queue.html">Queue</a></div>
        <p class="api-card-desc">Job queue with retry, delay, and priority scheduling</p>
      </div>
    </div>

    <!--  -->
    <h2 id="routing-flow" class="api-section-title">Routing &amp; Flow</h2>
    <p class="api-section-desc">Request routing, middleware pipeline, validation, and dependency injection.</p>
    <div class="api-grid">
      <div class="api-card">
        <div class="api-card-name"><a href="middleware.html">Middleware</a></div>
        <p class="api-card-desc">Before/after request middleware stack</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="pipeline.html">Pipeline</a></div>
        <p class="api-card-desc">Action-based processing pipeline with relay broadcasting</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="validation.html">Validation</a></div>
        <p class="api-card-desc">Declarative input validation with rule chains</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="container.html">Container</a></div>
        <p class="api-card-desc">PSR-11 DI container with auto-wiring, singletons, and aliases</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="env.html">Env</a></div>
        <p class="api-card-desc">Environment variable loader (.env file support)</p>
      </div>
    </div>

    <!--  -->
    <h2 id="rendering" class="api-section-title">Rendering</h2>
    <div class="api-grid">
      <div class="api-card">
        <div class="api-card-name"><a href="template.html">Template</a></div>
        <p class="api-card-desc">Template engine with blocks, function tags, modifiers, Entity system</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="dom.html">DOM</a></div>
        <p class="api-card-desc">Programmatic HTML builder</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="simple-syntax.html">SimpleSyntax</a></div>
        <p class="api-card-desc">Query DSL parser (ParseSyntax, ParseParens)</p>
      </div>
    </div>

    <!--  -->
    <h2 id="io-communication" class="api-section-title">IO &amp; Communication</h2>
    <div class="api-grid">
      <div class="api-card">
        <div class="api-card-name"><a href="httpclient.html">HttpClient</a></div>
        <p class="api-card-desc">cURL-based HTTP client with fluent request builder</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="xhr.html">XHR</a></div>
        <p class="api-card-desc">JSON API response builder with CORS</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="sse.html">SSE</a></div>
        <p class="api-card-desc">Server-Sent Events streaming and proxying</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="websocket.html">WebSocket</a></div>
        <p class="api-card-desc">WebSocket server and client communication</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="mailer.html">Mailer</a></div>
        <p class="api-card-desc">SMTP email with TLS/SSL, async sending</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="simplified-message.html">SimplifiedMessage</a></div>
        <p class="api-card-desc">STOMP-like message protocol</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="filereader.html">FileReader</a></div>
        <p class="api-card-desc">Sequential multi-file line reader</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="ftp-sftp.html">FTPClient</a></div>
        <p class="api-card-desc">FTP file transfer with passive/active mode</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="ftp-sftp.html">SFTPClient</a></div>
        <p class="api-card-desc">SSH-based secure file transfer</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="notification.html">Notification</a></div>
        <p class="api-card-desc">Multi-channel notification dispatcher</p>
      </div>
    </div>

    <!--  -->
    <h2 id="security" class="api-section-title">Security</h2>
    <div class="api-grid">
      <div class="api-card">
        <div class="api-card-name"><a href="crypt.html">Crypt</a></div>
        <p class="api-card-desc">AES-256-CBC encryption (2 static methods)</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="csrf.html">CSRF</a></div>
        <p class="api-card-desc">Cross-site request forgery token generation and validation</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="session.html">Session</a></div>
        <p class="api-card-desc">Secure session management with flash data support</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="oauth2.html">OAuth2</a></div>
        <p class="api-card-desc">OAuth 2.0 authorization code &amp; client credentials flow</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="office365sso.html">Office365SSO</a></div>
        <p class="api-card-desc">Microsoft Office 365 single sign-on integration</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="authenticator.html">Authenticator</a></div>
        <p class="api-card-desc">TOTP/HOTP two-factor authentication</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="authmanager.html">AuthManager</a></div>
        <p class="api-card-desc">Authorization gates and policy-based access control</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="ratelimiter.html">RateLimiter</a></div>
        <p class="api-card-desc">Token-bucket and sliding-window rate limiting</p>
      </div>
    </div>

    <!--  -->
    <h2 id="observability" class="api-section-title">Observability</h2>
    <p class="api-section-desc">Logging, profiling, and error diagnostics.</p>
    <div class="api-grid">
      <div class="api-card">
        <div class="api-card-name"><a href="logging.html">Logger</a></div>
        <p class="api-card-desc">PSR-3 compatible logging with file, stdout, and custom handlers</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="profiler.html">Profiler</a></div>
        <p class="api-card-desc">Execution timer and memory profiling</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="error-handling.html">Error Handling</a></div>
        <p class="api-card-desc">Custom error display, debugging, and exception strategies</p>
      </div>
    </div>

    <!--  -->
    <h2 id="advanced" class="api-section-title">Advanced</h2>
    <div class="api-grid">
      <div class="api-card">
        <div class="api-card-name"><a href="thread.html">ThreadManager</a></div>
        <p class="api-card-desc">Concurrent process execution with queue</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="thread.html">Thread</a></div>
        <p class="api-card-desc">Individual thread state machine</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="worker-lifecycle.html">Worker</a></div>
        <p class="api-card-desc">Long-running worker process lifecycle management</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="publishing.html">RepoInstaller</a></div>
        <p class="api-card-desc">GitHub repository module installer</p>
      </div>
      <div class="api-card">
        <div class="api-card-name"><a href="publishing.html">RepositoryManager</a></div>
        <p class="api-card-desc">Repository index generator</p>
      </div>
    </div>

    <!--  -->
    <h2 id="database-subclasses" class="api-section-title">Database Sub-classes</h2>
    <div class="api-grid">
      <div class="api-card">
        <div class="api-card-name">Statement</div>
        <p class="api-card-desc">Fluent SQL query builder</p>
      </div>
      <div class="api-card">
        <div class="api-card-name">Query</div>
        <p class="api-card-desc">Result set iterator</p>
      </div>
      <div class="api-card">
        <div class="api-card-name">Table</div>
        <p class="api-card-desc">Schema definition and ALTER</p>
      </div>
      <div class="api-card">
        <div class="api-card-name">Column</div>
        <p class="api-card-desc">Column type definition</p>
      </div>
      <div class="api-card">
        <div class="api-card-name">WhereSyntax</div>
        <p class="api-card-desc">WHERE clause DSL parser</p>
      </div>
      <div class="api-card">
        <div class="api-card-name">TableJoinSyntax</div>
        <p class="api-card-desc">JOIN clause DSL parser</p>
      </div>
      <div class="api-card">
        <div class="api-card-name">Driver</div>
        <p class="api-card-desc">Abstract database driver</p>
      </div>
    </div>

    <!--  -->
    <h2 id="template-subclasses" class="api-section-title">Template Sub-classes</h2>
    <div class="api-grid">
      <div class="api-card">
        <div class="api-card-name">Source</div>
        <p class="api-card-desc">Parsed template source</p>
      </div>
      <div class="api-card">
        <div class="api-card-name">Block</div>
        <p class="api-card-desc">Template block definition</p>
      </div>
      <div class="api-card">
        <div class="api-card-name">Entity</div>
        <p class="api-card-desc">Block instance with data binding</p>
      </div>
    </div>

    
    <h2 id="quick-usage" class="api-section-title">Quick Usage Examples</h2>

    <h3 id="ex-controller">Controller &amp; Agent (Module Setup)</h3>
    <pre><code><span class="hl-cmt">// controller/my_module.php  Main controller</span>
<span class="hl-kw">return new class extends</span> <span class="hl-fn">Controller</span> {
    <span class="hl-kw">protected function</span> <span class="hl-fn">__onInit</span>(<span class="hl-fn">Agent</span> <span class="hl-var">$agent</span>): <span class="hl-kw">bool</span>
    {
        <span class="hl-cmt">// Register routes</span>
        <span class="hl-var">$agent</span>-&gt;<span class="hl-fn">addRoute</span>(<span class="hl-str">'/'</span>, <span class="hl-str">'index'</span>);
        <span class="hl-var">$agent</span>-&gt;<span class="hl-fn">addRoute</span>(<span class="hl-str">'/user/(:d)'</span>, <span class="hl-str">'user'</span>);       <span class="hl-cmt">// :d = digits only</span>
        <span class="hl-var">$agent</span>-&gt;<span class="hl-fn">addRoute</span>(<span class="hl-str">'/search/(:a)'</span>, <span class="hl-str">'search'</span>);    <span class="hl-cmt">// :a = any characters</span>

        <span class="hl-cmt">// Register API commands</span>
        <span class="hl-var">$agent</span>-&gt;<span class="hl-fn">addAPICommand</span>(<span class="hl-str">'getData'</span>, <span class="hl-str">'api/getData'</span>);

        <span class="hl-cmt">// Listen to framework events</span>
        <span class="hl-var">$agent</span>-&gt;<span class="hl-fn">listen</span>(<span class="hl-str">'onReady'</span>, <span class="hl-str">'events/ready'</span>);

        <span class="hl-cmt">// Middleware</span>
        <span class="hl-var">$agent</span>-&gt;<span class="hl-fn">middleware</span>(<span class="hl-kw">function</span> (<span class="hl-var">$request</span>, <span class="hl-var">$next</span>) {
            <span class="hl-kw">return</span> <span class="hl-var">$next</span>(<span class="hl-var">$request</span>);
        });

        <span class="hl-kw">return true</span>;
    }
};</code></pre>

    <h3 id="ex-route">Route Handler Closure</h3>
    <pre><code><span class="hl-cmt">// controller/my_module.index.php</span>
<span class="hl-kw">return function</span> () {
    <span class="hl-var">$template</span> = <span class="hl-var">$this</span>-&gt;<span class="hl-fn">loadTemplate</span>(<span class="hl-str">'main'</span>);
    <span class="hl-var">$template</span>-&gt;<span class="hl-fn">assign</span>(<span class="hl-str">'title'</span>, <span class="hl-str">'Welcome'</span>);
    <span class="hl-kw">echo</span> <span class="hl-var">$template</span>-&gt;<span class="hl-fn">output</span>();
};

<span class="hl-cmt">// controller/my_module.user.php  with captured parameter</span>
<span class="hl-kw">return function</span> (<span class="hl-kw">string</span> <span class="hl-var">$userId</span>) {
    <span class="hl-var">$xhr</span> = <span class="hl-var">$this</span>-&gt;<span class="hl-fn">xhr</span>();
    <span class="hl-var">$xhr</span>-&gt;<span class="hl-fn">setData</span>([<span class="hl-str">'id'</span> =&gt; <span class="hl-var">$userId</span>, <span class="hl-str">'name'</span> =&gt; <span class="hl-str">'Alice'</span>]);
    <span class="hl-kw">return</span> <span class="hl-var">$xhr</span>;
};</code></pre>

    <h3 id="ex-database">Database Queries</h3>
    <pre><code><span class="hl-cmt">// Get database via DI container</span>
<span class="hl-var">$db</span> = <span class="hl-var">$this</span>-&gt;<span class="hl-fn">resolve</span>(\<span class="hl-fn">Razy</span>\<span class="hl-fn">Database</span>::<span class="hl-kw">class</span>);

<span class="hl-cmt">// SELECT with fluent builder</span>
<span class="hl-var">$users</span> = <span class="hl-var">$db</span>-&gt;<span class="hl-fn">prepare</span>()
    -&gt;<span class="hl-fn">select</span>(<span class="hl-str">'id, name, email'</span>)
    -&gt;<span class="hl-fn">from</span>(<span class="hl-str">'users'</span>)
    -&gt;<span class="hl-fn">where</span>(<span class="hl-str">'active=:active'</span>)
    -&gt;<span class="hl-fn">order</span>(<span class="hl-str">'&lt;name'</span>)
    -&gt;<span class="hl-fn">limit</span>(<span class="hl-num">0</span>, <span class="hl-num">20</span>)
    -&gt;<span class="hl-fn">lazyGroup</span>([<span class="hl-str">'active'</span> =&gt; <span class="hl-num">1</span>]);

<span class="hl-cmt">// INSERT</span>
<span class="hl-var">$stmt</span> = <span class="hl-var">$db</span>-&gt;<span class="hl-fn">insert</span>(<span class="hl-str">'users'</span>, [<span class="hl-str">'name'</span>, <span class="hl-str">'email'</span>]);
<span class="hl-var">$stmt</span>-&gt;<span class="hl-fn">assign</span>([<span class="hl-str">'name'</span> =&gt; <span class="hl-str">'Alice'</span>, <span class="hl-str">'email'</span> =&gt; <span class="hl-str">'alice@example.com'</span>]);
<span class="hl-var">$db</span>-&gt;<span class="hl-fn">execute</span>(<span class="hl-var">$stmt</span>);
<span class="hl-var">$newId</span> = <span class="hl-var">$db</span>-&gt;<span class="hl-fn">lastID</span>();

<span class="hl-cmt">// Transaction</span>
<span class="hl-var">$db</span>-&gt;<span class="hl-fn">transaction</span>(<span class="hl-kw">function</span> () <span class="hl-kw">use</span> (<span class="hl-var">$db</span>) {
    <span class="hl-var">$db</span>-&gt;<span class="hl-fn">execute</span>(<span class="hl-var">$db</span>-&gt;<span class="hl-fn">insert</span>(<span class="hl-str">'orders'</span>, [<span class="hl-str">'user_id'</span>, <span class="hl-str">'total'</span>])
        -&gt;<span class="hl-fn">assign</span>([<span class="hl-str">'user_id'</span> =&gt; <span class="hl-num">1</span>, <span class="hl-str">'total'</span> =&gt; <span class="hl-num">99.99</span>]));
});</code></pre>

    <h3 id="ex-collection">Collection (Dot-Path Access)</h3>
    <pre><code><span class="hl-kw">use</span> <span class="hl-fn">Razy</span>\<span class="hl-fn">Collection</span>;

<span class="hl-var">$data</span> = <span class="hl-kw">new</span> <span class="hl-fn">Collection</span>([
    <span class="hl-str">'app'</span> =&gt; [
        <span class="hl-str">'name'</span> =&gt; <span class="hl-str">'MyApp'</span>,
        <span class="hl-str">'settings'</span> =&gt; [<span class="hl-str">'debug'</span> =&gt; <span class="hl-kw">true</span>],
    ],
]);

<span class="hl-var">$name</span>  = <span class="hl-var">$data</span>(<span class="hl-str">'app.name'</span>);            <span class="hl-cmt">// &rarr; 'MyApp'</span>
<span class="hl-var">$debug</span> = <span class="hl-var">$data</span>(<span class="hl-str">'app.settings.debug'</span>);  <span class="hl-cmt">// &rarr; true</span>
<span class="hl-var">$data</span>-&gt;<span class="hl-fn">set</span>(<span class="hl-str">'app.settings.debug'</span>, <span class="hl-kw">false</span>);</code></pre>

    <h3 id="ex-di">DI Container</h3>
    <pre><code><span class="hl-cmt">// Register a service in __onInit</span>
<span class="hl-var">$agent</span>-&gt;<span class="hl-fn">container</span>()?-&gt;<span class="hl-fn">singleton</span>(<span class="hl-fn">CacheInterface</span>::<span class="hl-kw">class</span>, <span class="hl-fn">FileAdapter</span>::<span class="hl-kw">class</span>);

<span class="hl-cmt">// Resolve in any controller method</span>
<span class="hl-var">$cache</span> = <span class="hl-var">$this</span>-&gt;<span class="hl-fn">resolve</span>(<span class="hl-fn">CacheInterface</span>::<span class="hl-kw">class</span>);

<span class="hl-cmt">// Check if a service exists</span>
<span class="hl-kw">if</span> (<span class="hl-var">$this</span>-&gt;<span class="hl-fn">hasService</span>(<span class="hl-fn">CacheInterface</span>::<span class="hl-kw">class</span>)) {
    <span class="hl-var">$cache</span> = <span class="hl-var">$this</span>-&gt;<span class="hl-fn">resolve</span>(<span class="hl-fn">CacheInterface</span>::<span class="hl-kw">class</span>);
}</code></pre>

    <h3 id="ex-encryption">Encryption</h3>
    <pre><code><span class="hl-kw">use</span> <span class="hl-fn">Razy</span>\<span class="hl-fn">Crypt</span>;

<span class="hl-var">$encrypted</span> = <span class="hl-fn">Crypt</span>::<span class="hl-fn">encrypt</span>(<span class="hl-str">'sensitive data'</span>, <span class="hl-str">'my-secret-key'</span>);
<span class="hl-var">$decrypted</span> = <span class="hl-fn">Crypt</span>::<span class="hl-fn">decrypt</span>(<span class="hl-var">$encrypted</span>, <span class="hl-str">'my-secret-key'</span>);
<span class="hl-cmt">// &rarr; 'sensitive data'</span></code></pre>


    <div class="page-nav">
      <a href="cli.html"><span class="label">&larr; Previous</span><span class="title">CLI Commands</span></a>
      <a href="moduleinfo.html" class="next"><span class="label">Next &rarr;</span><span class="title">ModuleInfo</span></a>
    </div>
  </main>
  <footer class="site-footer"><span>Razy Framework v1.0-beta</span><span><a href="https://github.com/rayfunghk/razy" target="_blank">GitHub</a></span></footer>
</body>
</html>
